"use strict";(self.webpackChunkkube_green_github_io=self.webpackChunkkube_green_github_io||[]).push([[2507],{6098:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>s,default:()=>d,frontMatter:()=>r,metadata:()=>l,toc:()=>c});const l=JSON.parse('{"id":"installation/install","title":"Install","description":"kubectl apply","source":"@site/docs/installation/install.md","sourceDirName":"installation","slug":"/installation/install","permalink":"/docs/installation/install","draft":false,"unlisted":false,"editUrl":"https://github.com/kube-green/kube-green.github.io/edit/main/docs/installation/install.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Installation","permalink":"/docs/installation/"},"next":{"title":"Cloud compatibility","permalink":"/docs/installation/cloud-provider"}}');var i=t(4848),a=t(8453);const r={sidebar_position:1},s="Install",o={},c=[{value:"kubectl apply",id:"kubectl-apply",level:2},{value:"Helm Chart",id:"helm-chart",level:2},{value:"1. Add the Helm repository",id:"1-add-the-helm-repository",level:3},{value:"2. Install kube-green",id:"2-install-kube-green",level:3},{value:"Installation options",id:"installation-options",level:3},{value:"Operator Lifecycle Manager (OLM)",id:"operator-lifecycle-manager-olm",level:2},{value:"Install from OperatorHub.io",id:"install-from-operatorhubio",level:3},{value:"Install on OpenShift",id:"install-on-openshift",level:3},{value:"kustomize",id:"kustomize",level:2},{value:"Change default configuration",id:"change-default-configuration",level:3},{value:"Deploy",id:"deploy",level:3}];function h(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"install",children:"Install"})}),"\n",(0,i.jsx)(n.h2,{id:"kubectl-apply",children:"kubectl apply"}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsx)(n.p,{children:"With this method, you cannot change the default configuration parameters."})}),"\n",(0,i.jsxs)(n.p,{children:["You need to have ",(0,i.jsx)(n.a,{href:"https://kubernetes.io/docs/tasks/tools/#kubectl",children:"kubectl"})," installed and connected to the cluster where you want to install ",(0,i.jsx)(n.em,{children:"kube-green"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"The default static configuration for the latest release can be installed with:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"kubectl apply -f https://github.com/kube-green/kube-green/releases/latest/download/kube-green.yaml\n"})}),"\n",(0,i.jsx)(n.p,{children:"If you want to install a specific release version, run:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"kubectl apply -f https://github.com/kube-green/kube-green/releases/download/${RELEASE_TAG}/kube-green.yaml\n"})}),"\n",(0,i.jsxs)(n.p,{children:["with ",(0,i.jsx)(n.code,{children:"${RELEASE_TAG}"})," correctly filled."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.em,{children:"kube-green"})," will be installed in the ",(0,i.jsx)(n.code,{children:"kube-green"})," namespace, and you can check the installation status by running:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"kubectl get pods --namespace kube-green\n"})}),"\n",(0,i.jsxs)(n.p,{children:["and see when the ",(0,i.jsx)(n.code,{children:"kube-green-controller-manager"})," pod is up and running."]}),"\n",(0,i.jsx)(n.h2,{id:"helm-chart",children:"Helm Chart"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.em,{children:"kube-green"})," has its own Helm chart which can be used to install the operator in the cluster."]}),"\n",(0,i.jsx)(n.h3,{id:"1-add-the-helm-repository",children:"1. Add the Helm repository"}),"\n",(0,i.jsx)(n.p,{children:"This repository is the source of kube-green charts."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"helm repo add kube-green https://kube-green.github.io/helm-charts/\n"})}),"\n",(0,i.jsx)(n.h3,{id:"2-install-kube-green",children:"2. Install kube-green"}),"\n",(0,i.jsx)(n.p,{children:"To install the kube-green Helm chart, run:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"helm install kube-green kube-green/kube-green --namespace kube-green --create-namespace\n"})}),"\n",(0,i.jsx)(n.h3,{id:"installation-options",children:"Installation options"}),"\n",(0,i.jsxs)(n.p,{children:["For a complete list of available Helm values, please visit the ",(0,i.jsx)(n.a,{href:"https://github.com/kube-green/kube-green/tree/main/charts/kube-green",children:"Helm chart repository"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"operator-lifecycle-manager-olm",children:"Operator Lifecycle Manager (OLM)"}),"\n",(0,i.jsx)(n.p,{children:"When using this installation method, you can specify any namespace. However, due to OLM's RBAC management limitations, the operator will only be able to manage default resources."}),"\n",(0,i.jsx)(n.h3,{id:"install-from-operatorhubio",children:"Install from OperatorHub.io"}),"\n",(0,i.jsxs)(n.p,{children:["You can find ",(0,i.jsx)(n.em,{children:"kube-green"})," on ",(0,i.jsx)(n.a,{href:"https://operatorhub.io/operator/kube-green",children:"OperatorHub.io"}),". Simply click the Install button and follow the provided instructions."]}),"\n",(0,i.jsx)(n.h3,{id:"install-on-openshift",children:"Install on OpenShift"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.em,{children:"kube-green"})," is available in the ",(0,i.jsx)(n.a,{href:"https://docs.openshift.com/container-platform/4.9/operators/understanding/olm-rh-catalogs.html",children:"Red Hat provided Operator catalogs"})," called community operators. On OpenShift 4, you can install ",(0,i.jsx)(n.em,{children:"kube-green"})," from ",(0,i.jsx)(n.a,{href:"https://docs.openshift.com/container-platform/4.9/operators/understanding/olm-understanding-operatorhub.html",children:"OperatorHub"}),". To install it, follow ",(0,i.jsx)(n.a,{href:"https://docs.openshift.com/container-platform/4.9/operators/admin/olm-adding-operators-to-cluster.html",children:"this guide"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"kustomize",children:"kustomize"}),"\n",(0,i.jsx)(n.h3,{id:"change-default-configuration",children:"Change default configuration"}),"\n",(0,i.jsx)(n.p,{children:"You can change the default configuration by editing the config files."}),"\n",(0,i.jsxs)(n.p,{children:["For example, to deploy the controller in another namespace, change the file ",(0,i.jsx)(n.a,{href:"https://github.com/kube-green/kube-green/blob/main/config/default/kustomization.yaml#L2",children:"kustomization.yaml"})," with the desired namespace name."]}),"\n",(0,i.jsx)(n.h3,{id:"deploy",children:"Deploy"}),"\n",(0,i.jsxs)(n.p,{children:["To install ",(0,i.jsx)(n.em,{children:"kube-green"})," in the cluster, clone the repository and run:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"make deploy\n"})}),"\n",(0,i.jsxs)(n.p,{children:["This will create a new namespace, ",(0,i.jsx)(n.em,{children:"kube-green"}),", which contains the pod of the operator."]})]})}function d(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>s});var l=t(6540);const i={},a=l.createContext(i);function r(e){const n=l.useContext(a);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),l.createElement(a.Provider,{value:n},e.children)}}}]);