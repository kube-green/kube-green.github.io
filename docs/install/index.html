<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-install" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Install | kube-green</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://kube-green.dev/img/og-cover.png"><meta data-rh="true" name="twitter:image" content="https://kube-green.dev/img/og-cover.png"><meta data-rh="true" property="og:url" content="https://kube-green.dev/docs/install/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="kubernetes, green-software, autoscaling, downscale, cloud-native"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Install | kube-green"><meta data-rh="true" name="description" content="Prerequisite"><meta data-rh="true" property="og:description" content="Prerequisite"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://kube-green.dev/docs/install/"><link data-rh="true" rel="alternate" href="https://kube-green.dev/docs/install/" hreflang="en"><link data-rh="true" rel="alternate" href="https://kube-green.dev/docs/install/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://OO5LH8JODS-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="kube-green RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="kube-green Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="kube-green" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.7e8f8171.css">
<script src="/assets/js/runtime~main.68a338fb.js" defer="defer"></script>
<script src="/assets/js/main.2da79370.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">If you like kube-green, give it a star on <a target="_blank" rel="noopener noreferrer" href="https://github.com/kube-green/kube-green">GitHub</a> ⭐</div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="kube-green Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo-dark.svg" alt="kube-green Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">kube-green</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/getting-started/">Docs</a><a class="navbar__item navbar__link" href="/blog/">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/kube-green/kube-green" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/getting-started/">Getting Started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/lifecycle/">How it works</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/install/">Install</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/configuration/">Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/metrics/">Metrics</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/real-usecase/first-usage/">Real use case</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/tutorials/kind/">Tutorials</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/advanced/webhook-cert-management/">Advanced</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/apireference_v1alpha1/">API Reference</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/FAQ/">FAQ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/adopters/">Adopters</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Install</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Install</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisite">Prerequisite<a class="hash-link" aria-label="Direct link to Prerequisite" title="Direct link to Prerequisite" href="/docs/install/#prerequisite">​</a></h2>
<p><em>kube-green</em> support all Kubernetes cluster versions &gt;= 1.23 &lt;= 1.30 and OpenShift Container Platform v4.</p>
<p>Supported architectures are: amd64, arm64.</p>
<p><em>kube-green</em> needs certificates to exposes webhooks. The recommended way to handle certificates is using the <a href="https://cert-manager.io/docs/installation/" target="_blank" rel="noopener noreferrer">cert-manager</a>. Otherwise, you can manage certificates manually as described <a href="/docs/advanced/webhook-cert-management/">here</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="kubectl-apply">kubectl apply<a class="hash-link" aria-label="Direct link to kubectl apply" title="Direct link to kubectl apply" href="/docs/install/#kubectl-apply">​</a></h2>
<p>With this method, you can not change the default configuration parameters.</p>
<p>The default static configuration for the latest release can be installed with:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f https://github.com/kube-green/kube-green/releases/latest/download/kube-green.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If you want to install a specific release version, run:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f https://github.com/kube-green/kube-green/releases/download/${RELEASE_TAG}/kube-green.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>with <code>${RELEASE_TAG}</code> correctly filled.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="kustomize">kustomize<a class="hash-link" aria-label="Direct link to kustomize" title="Direct link to kustomize" href="/docs/install/#kustomize">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="change-default-configuration">Change default configuration<a class="hash-link" aria-label="Direct link to Change default configuration" title="Direct link to Change default configuration" href="/docs/install/#change-default-configuration">​</a></h3>
<p>You can change default configuration editing the config files.</p>
<p>For example, to deploy the controller in another namespace, change the file <a href="https://github.com/kube-green/kube-green/blob/main/config/default/kustomization.yaml#L2" target="_blank" rel="noopener noreferrer">kustomization.yaml</a> with the desired namespace name.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="deploy">Deploy<a class="hash-link" aria-label="Direct link to Deploy" title="Direct link to Deploy" href="/docs/install/#deploy">​</a></h3>
<p>To install <em>kube-green</em> in the cluster, clone the repository and run</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">make deploy</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This will create a new namespace, <em>kube-green</em>, which contains the pod of the operator.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="operator-lifecycle-manager-olm">Operator Lifecycle Manager (OLM)<a class="hash-link" aria-label="Direct link to Operator Lifecycle Manager (OLM)" title="Direct link to Operator Lifecycle Manager (OLM)" href="/docs/install/#operator-lifecycle-manager-olm">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="install-from-operatorhubio">Install from OperatorHub.io<a class="hash-link" aria-label="Direct link to Install from OperatorHub.io" title="Direct link to Install from OperatorHub.io" href="/docs/install/#install-from-operatorhubio">​</a></h3>
<p>You can find <em>kube-green</em> in the <a href="https://operatorhub.io/operator/kube-green" target="_blank" rel="noopener noreferrer">OperatorHub.io website</a>. Click the Install button, and follow the instructions.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="install-on-openshift">Install on OpenShift<a class="hash-link" aria-label="Direct link to Install on OpenShift" title="Direct link to Install on OpenShift" href="/docs/install/#install-on-openshift">​</a></h3>
<p><em>kube-green</em> is in the <a href="https://docs.openshift.com/container-platform/4.9/operators/understanding/olm-rh-catalogs.html" target="_blank" rel="noopener noreferrer">Red Hat-provided Operator catalogs</a> called community operators. On OpenShift 4 you can install <em>kube-green</em> from <a href="https://docs.openshift.com/container-platform/4.9/operators/understanding/olm-understanding-operatorhub.html" target="_blank" rel="noopener noreferrer">OperatorHub</a>. To install it, follow <a href="https://docs.openshift.com/container-platform/4.9/operators/admin/olm-adding-operators-to-cluster.html" target="_blank" rel="noopener noreferrer">this guide</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cloud-compatibility">Cloud compatibility<a class="hash-link" aria-label="Direct link to Cloud compatibility" title="Direct link to Cloud compatibility" href="/docs/install/#cloud-compatibility">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gke">GKE<a class="hash-link" aria-label="Direct link to GKE" title="Direct link to GKE" href="/docs/install/#gke">​</a></h3>
<p>When Google configure the control plane for private cluster, they automatically configure VPC peering between your Kubernetes cluster network and a separate Google managed project.</p>
<p>To restrict what Google is able to access in your cluster, the firewall rules configured restrict access to your Kubernetes pods. This means that the webhook won&#x27;t work, and you see an error like <code>Internal error occurred: failed calling webhook ...:</code></p>
<p>So, to use the webhook component with a GKE private cluster, you need to configure an additional firewall rule to allow the GKE control plane to access to your webhook pod.</p>
<p><em>kube-green</em> uses webhook (exposed on port 9443) to check that SleepInfo CRD is valid. In order to make it works, you must open the 9443 port (or change the exposed port by configuration) otherwise it would not possible to add SleepInfo CRD.</p>
<p><a href="https://cloud.google.com/kubernetes-engine/docs/how-to/private-clusters#add_firewall_rules" target="_blank" rel="noopener noreferrer">Here</a> you can read more information about how to add firewall rules to GKE.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-eks">AWS EKS<a class="hash-link" aria-label="Direct link to AWS EKS" title="Direct link to AWS EKS" href="/docs/install/#aws-eks">​</a></h3>
<p>When using a custom CNI on EKS (such as cilium), the webhook cannot be reached by kube-green. This happens because the control plane cannot be configured to run on a custom CNI, so the CNIs differ between control plane and worker nodes.</p>
<p>To address this, set <code>hostNetwork: true</code> in the deployment of the webhook to run it in the host network.</p>
<p>To set this, uncomment the <code># - host_network_patch.yaml</code> line (<a href="https://github.com/kube-green/kube-green/blob/main/config/default/kustomization.yaml" target="_blank" rel="noopener noreferrer">in this file</a>) to apply the patch with the <code>hostNetwork: true</code> value.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/kube-green/kube-green.github.io/edit/main/docs/install.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/lifecycle/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">How it works</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/configuration/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Configuration</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/docs/install/#prerequisite">Prerequisite</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/install/#kubectl-apply">kubectl apply</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/install/#kustomize">kustomize</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/install/#change-default-configuration">Change default configuration</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/install/#deploy">Deploy</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/install/#operator-lifecycle-manager-olm">Operator Lifecycle Manager (OLM)</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/install/#install-from-operatorhubio">Install from OperatorHub.io</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/install/#install-on-openshift">Install on OpenShift</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/install/#cloud-compatibility">Cloud compatibility</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/install/#gke">GKE</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/install/#aws-eks">AWS EKS</a></li></ul></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>